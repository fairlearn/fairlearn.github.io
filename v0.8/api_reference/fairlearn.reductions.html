
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>fairlearn.reductions package &#8212; Fairlearn 0.8.0 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"E": "{\\mathbb{E}}", "P": "{\\mathbb{P}}", "given": "\\mathbin{\\vert}"}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fairlearn.adversarial package" href="fairlearn.adversarial.html" />
    <link rel="prev" title="fairlearn.preprocessing package" href="fairlearn.preprocessing.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  
  


<a class="navbar-brand logo" href="../https%3A//fairlearn.org.html">
  
  
  
  
    <img src="../_static/fairlearn_full_color.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/fairlearn_full_color.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
    <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        0.8.0  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables api_reference/fairlearn.reductions and {'json_url': 'https://fairlearn.org/main/_static/versions.json', 'version_match': '0.8.0'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "api_reference/fairlearn.reductions.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://fairlearn.org/main/_static/versions.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "api_reference/fairlearn.reductions.html";
        let btn = document.getElementById("version_switcher_button");
        // Set empty strings by default so that these attributes exist and can be used in CSS selectors
        btn.dataset["activeVersionName"] = "";
        btn.dataset["activeVersion"] = "";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's  variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "0.8.0") {
                node.classList.add("active");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../quickstart.html">
  Get Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  API Docs
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../auto_examples/index.html">
  Example Notebooks
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contributor_guide/index.html">
  Contributor Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../faq.html">
  FAQ
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../about/index.html">
  About Us
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/fairlearn/fairlearn" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/fairlearn" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://stackoverflow.com/questions/tagged/fairlearn" rel="noopener" target="_blank" title="StackOverflow"><span><i class="fab fa-stack-overflow"></i></span>
            <label class="sr-only">StackOverflow</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discord.gg/R22yCfgsRn" rel="noopener" target="_blank" title="Discord"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.datasets.html">
   fairlearn.datasets package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.metrics.html">
   fairlearn.metrics package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.postprocessing.html">
   fairlearn.postprocessing package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.preprocessing.html">
   fairlearn.preprocessing package
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   fairlearn.reductions package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.adversarial.html">
   fairlearn.adversarial package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fairlearn.experimental.html">
   fairlearn.experimental package
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      

<nav id="bd-toc-nav">
    
</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="module-fairlearn.reductions">
<span id="fairlearn-reductions-package"></span><h1>fairlearn.reductions package<a class="headerlink" href="#module-fairlearn.reductions" title="Permalink to this headline">#</a></h1>
<p>This module contains algorithms implementing the reductions approach to disparity mitigation.</p>
<p>In this approach, disparity constraints are cast as Lagrange multipliers, which cause the
reweighting and relabelling of the input data. This <em>reduces</em> the problem back to standard machine
learning training.</p>
<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.AbsoluteLoss">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">AbsoluteLoss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_val</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/__init__.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.AbsoluteLoss" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to evaluate absolute loss.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#constraints-regression"><span class="std std-ref">User Guide</span></a>.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.AbsoluteLoss.eval" title="fairlearn.reductions.AbsoluteLoss.eval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval</span></code></a>(y_true, y_pred)</p></td>
<td><p>Evaluate the absolute loss for the given set of true and predicted values.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.AbsoluteLoss.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/bounded_group_loss.py#L160-L165"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.AbsoluteLoss.eval" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluate the absolute loss for the given set of true and predicted values.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.BoundedGroupLoss">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">BoundedGroupLoss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/bounded_group_loss.py#L118-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.BoundedGroupLoss" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.ConditionalLossMoment</span></code></p>
<p>Moment for constraining the worst-case loss by a group.</p>
<p>For more information refer to the <a class="reference internal" href="../user_guide/mitigation.html#bounded-group-loss"><span class="std std-ref">user guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return the vector of bounds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return a default objective.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code>(X, y, *, sensitive_features)</p></td>
<td><p>Load data into the moment object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>([lambda_vec])</p></td>
<td><p>Return the signed weights.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.ClassificationMoment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">ClassificationMoment</span></span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/__init__.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ClassificationMoment" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.Moment</span></code></a></p>
<p>Moment that can be expressed as weighted classification error.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return vector of fairness bound constraint the length of gamma.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code>(X, y, *[, sensitive_features])</p></td>
<td><p>Load a set of data for use by this object.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Return the signed weights.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.DemographicParity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">DemographicParity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L289-L333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.DemographicParity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.UtilityParity</span></code></a></p>
<p>Implementation of demographic parity as a moment.</p>
<p>A classifier <span class="math notranslate nohighlight">\(h(X)\)</span> satisfies demographic parity if</p>
<div class="math notranslate nohighlight">
\[P[h(X) = 1 | A = a] = P[h(X) = 1] \; \forall a\]</div>
<p>This implementation of <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtilityParity</span></code></a> defines
a single event, <cite>all</cite>. Consequently, the <cite>prob_event</cite>
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>
will only have a single entry, which will be equal to 1.
Similarly, the <cite>index</cite> property will have twice as many entries
(corresponding to the Lagrange multipliers for positive and negative
constraints) as there are unique values for the sensitive feature.
The <a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UtilityParity.signed_weights()</span></code></a> method will compute the costs
according to Example 3 of Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id1">1</a>.</p>
<p>This <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> also supports control features, which can be used to
stratify the data, with the Demographic Parity constraint applied within
each stratum, but not between strata. If the control feature groups
are <span class="math notranslate nohighlight">\(c \in \mathcal{C}\)</span> then the above equation will become</p>
<div class="math notranslate nohighlight">
\[P[h(X) = 1 | A = a, C = c] = P[h(X) = 1 | C = c] \; \forall a, c\]</div>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#demographic-parity"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.DemographicParity.load_data" title="fairlearn.reductions.DemographicParity.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.DemographicParity.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L321-L333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.DemographicParity.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.DemographicParity.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DemographicParity'</span></em><a class="headerlink" href="#fairlearn.reductions.DemographicParity.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.EqualizedOdds">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">EqualizedOdds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L444-L490"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.EqualizedOdds" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.UtilityParity</span></code></a></p>
<p>Implementation of equalized odds as a moment.</p>
<p>Adds conditioning on label compared to demographic parity, i.e.</p>
<div class="math notranslate nohighlight">
\[P[h(X) = 1 | A = a, Y = y] = P[h(X) = 1 | Y = y] \; \forall a, y\]</div>
<p>This implementation of <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtilityParity</span></code></a> defines
events corresponding to the unique values of the <cite>Y</cite> array.</p>
<p>The <cite>prob_event</cite> <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> will record the
fraction of the samples corresponding to each unique value in
the <cite>Y</cite> array.</p>
<p>The <cite>index</cite> MultiIndex will have a number of entries equal to
the number of unique values for the sensitive feature, multiplied by
the number of unique values of the <cite>Y</cite> array, multiplied by two (for
the Lagrange multipliers for positive and negative constraints).</p>
<p>With these definitions, the <a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UtilityParity.signed_weights()</span></code></a> method
will calculate the costs according to Example 4 of
Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id2">1</a>.</p>
<p>This <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> also supports control features, which can be used to
stratify the data, with the constraint applied within
each stratum, but not between strata.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#equalized-odds"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.EqualizedOdds.load_data" title="fairlearn.reductions.EqualizedOdds.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.EqualizedOdds.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L478-L490"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.EqualizedOdds.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.EqualizedOdds.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'EqualizedOdds'</span></em><a class="headerlink" href="#fairlearn.reductions.EqualizedOdds.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">ErrorRate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/error_rate.py#L17-L104"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRate" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.ClassificationMoment" title="fairlearn.reductions.ClassificationMoment"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.ClassificationMoment</span></code></a></p>
<p>Misclassification error as a moment.</p>
<p>A classifier <span class="math notranslate nohighlight">\(h(X)\)</span> has the misclassification error equal to</p>
<div class="math notranslate nohighlight">
\[P[h(X) \ne Y]\]</div>
<p>It is also possible to specify costs for false positives and false
negatives. The error then evaluates to</p>
<div class="math notranslate nohighlight">
\[c_{FP} P[h(X)=1, Y=0] + c_{FN} P[h(X)=0, Y=1]\]</div>
<p>where <span class="math notranslate nohighlight">\(c_{FP}\)</span> and <span class="math notranslate nohighlight">\(c_{FN}\)</span> are the costs of false positive
and false negative errors respectively. The standard misclassification
error corresponds to <span class="math notranslate nohighlight">\(c_{FP}=c_{FN}=1.0\)</span>.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#error-rate-parity"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>costs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – The dictionary with keys <code class="code docutils literal notranslate"><span class="pre">'fp'</span></code> and <code class="code docutils literal notranslate"><span class="pre">'fn'</span></code> containing the
costs of false positives and false negatives. If none are provided
costs of 1.0 are assumed.</p>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return vector of fairness bound constraint the length of gamma.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.ErrorRate.gamma" title="fairlearn.reductions.ErrorRate.gamma"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code></a>(predictor)</p></td>
<td><p>Return the gamma values for the given predictor.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.ErrorRate.load_data" title="fairlearn.reductions.ErrorRate.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.ErrorRate.project_lambda" title="fairlearn.reductions.ErrorRate.project_lambda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code></a>(lambda_vec)</p></td>
<td><p>Return the lambda values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.ErrorRate.signed_weights" title="fairlearn.reductions.ErrorRate.signed_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code></a>([lambda_vec])</p></td>
<td><p>Return the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/error_rate.py#L78-L92"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRate.gamma" title="Permalink to this definition">#</a></dt>
<dd><p>Return the gamma values for the given predictor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/error_rate.py#L65-L76"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRate.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate.project_lambda">
<span class="sig-name descname"><span class="pre">project_lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/error_rate.py#L94-L96"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRate.project_lambda" title="Permalink to this definition">#</a></dt>
<dd><p>Return the lambda values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate.signed_weights">
<span class="sig-name descname"><span class="pre">signed_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/error_rate.py#L98-L104"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRate.signed_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Return the signed weights.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRate.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Err'</span></em><a class="headerlink" href="#fairlearn.reductions.ErrorRate.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRateParity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">ErrorRateParity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L493-L537"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRateParity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.UtilityParity</span></code></a></p>
<p>Implementation of error rate parity as a moment.</p>
<p>A classifier <span class="math notranslate nohighlight">\(h(X)\)</span> satisfies error rate parity if</p>
<div class="math notranslate nohighlight">
\[P[h(X) \ne Y | A = a] = P[h(X) \ne Y] \; \forall a\]</div>
<p>This implementation of <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtilityParity</span></code></a> defines
a single event, <cite>all</cite>. Consequently, the <cite>prob_event</cite>
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> will only have a single
entry, which will be equal to 1.</p>
<p>The <cite>index</cite> property will have twice as many entries (corresponding to the Lagrange multipliers
for positive and negative constraints) as there are unique values for the sensitive feature.</p>
<p>The <a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UtilityParity.signed_weights()</span></code></a> method will compute the costs according to Example 3
of Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id3">1</a>.
However, in this scenario, g = abs(h(x)-y), rather than g = h(x)</p>
<p>This <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> also supports control features, which can be used to
stratify the data, with the constraint applied within
each stratum, but not between strata.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#error-rate-parity"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.ErrorRateParity.load_data" title="fairlearn.reductions.ErrorRateParity.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRateParity.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L523-L537"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ErrorRateParity.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.ErrorRateParity.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ErrorRateParity'</span></em><a class="headerlink" href="#fairlearn.reductions.ErrorRateParity.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.ExponentiatedGradient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">ExponentiatedGradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">estimator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_linprog_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample_weight'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_exponentiated_gradient/exponentiated_gradient.py#L29-L354"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ExponentiatedGradient" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.BaseEstimator.html#sklearn.base.BaseEstimator" title="(in scikit-learn v1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.MetaEstimatorMixin</span></code></p>
<p>An Estimator which implements the exponentiated gradient reduction.</p>
<p>The exponentiated gradient algorithm is described in detail by
Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id4">1</a>.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#exponentiated-gradient"><span class="std std-ref">User Guide</span></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.3.0: </span>Was a function before, not a class</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.4.6: </span>Requires 0-1 labels for classification problems</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator</em>) – An estimator implementing methods <code class="code docutils literal notranslate"><span class="pre">fit(X,</span> <span class="pre">y,</span> <span class="pre">sample_weight)</span></code> and
<code class="code docutils literal notranslate"><span class="pre">predict(X)</span></code>, where <cite>X</cite> is the matrix of features, <cite>y</cite> is the
vector of labels (binary classification) or continuous values
(regression), and <cite>sample_weight</cite> is a vector of weights.
In binary classification labels <cite>y</cite> and predictions returned by
<code class="code docutils literal notranslate"><span class="pre">predict(X)</span></code> are either 0 or 1.
In regression values <cite>y</cite> and predictions are continuous.</p></li>
<li><p><strong>constraints</strong> (<a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><em>fairlearn.reductions.Moment</em></a>) – The fairness constraints expressed as a <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a>.</p></li>
<li><p><strong>objective</strong> (<a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><em>fairlearn.reductions.Moment</em></a>) – The objective expressed as a <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a>. The default is
<code class="code docutils literal notranslate"><span class="pre">ErrorRate()</span></code> for binary classification and
<code class="code docutils literal notranslate"><span class="pre">MeanLoss(...)</span></code> for regression.</p></li>
<li><p><strong>eps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – <p>Allowed fairness constraint violation; the solution is guaranteed to
have the error within <code class="code docutils literal notranslate"><span class="pre">2*best_gap</span></code> of the best error under
constraint <cite>eps</cite>; the constraint violation is at most
<code class="code docutils literal notranslate"><span class="pre">2*(eps+best_gap)</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5.0: </span><code class="code docutils literal notranslate"><span class="pre">eps</span></code> is now only responsible for setting the L1 norm bound
in the optimization</p>
</div>
</p></li>
<li><p><strong>max_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – <p>Maximum number of iterations</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.0: </span>Used to be <code class="code docutils literal notranslate"><span class="pre">T</span></code></p>
</div>
</p></li>
<li><p><strong>nu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – Convergence threshold for the duality gap, corresponding to a
conservative automatic setting based on the statistical uncertainty
in measuring classification error</p></li>
<li><p><strong>eta0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – <p>Initial setting of the learning rate</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.0: </span>Used to be <code class="code docutils literal notranslate"><span class="pre">eta_mul</span></code></p>
</div>
</p></li>
<li><p><strong>run_linprog_step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – <p>if True each step of exponentiated gradient is followed by the saddle
point optimization over the convex hull of classifiers returned so
far; default True</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.0.</span></p>
</div>
</p></li>
<li><p><strong>sample_weight_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – <p>Name of the argument to <cite>estimator.fit()</cite> which supplies the sample weights
(defaults to <cite>sample_weight</cite>)</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.ExponentiatedGradient.fit" title="fairlearn.reductions.ExponentiatedGradient.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(X, y, **kwargs)</p></td>
<td><p>Return a fair classifier under specified fairness constraints.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_params</span></code>([deep])</p></td>
<td><p>Get parameters for this estimator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.ExponentiatedGradient.predict" title="fairlearn.reductions.ExponentiatedGradient.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict</span></code></a>(X[, random_state])</p></td>
<td><p>Provide predictions for the given input data.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_params</span></code>(**params)</p></td>
<td><p>Set the parameters of this estimator.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ExponentiatedGradient.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_exponentiated_gradient/exponentiated_gradient.py#L123-L276"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ExponentiatedGradient.fit" title="Permalink to this definition">#</a></dt>
<dd><p>Return a fair classifier under specified fairness constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em> or </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – Feature data</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><em>pandas.Series</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – Label vector</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.ExponentiatedGradient.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_exponentiated_gradient/exponentiated_gradient.py#L278-L323"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ExponentiatedGradient.predict" title="Permalink to this definition">#</a></dt>
<dd><p>Provide predictions for the given input data.</p>
<p>Predictions are randomized, i.e., repeatedly calling <cite>predict</cite> with
the same feature data may yield different output. This
non-deterministic behavior is intended and stems from the nature of
the exponentiated gradient algorithm.</p>
<p class="rubric">Notes</p>
<p>A fitted ExponentiatedGradient has an attribute <cite>predictors_</cite>, an
array of predictors, and an attribute <cite>weights_</cite>, an array of
non-negative floats of the same length.
The prediction on each data point in <cite>X</cite> is obtained by first picking
a random predictor according to the probabilities in <cite>weights_</cite> and
then applying it. Different predictors can be chosen on different data
points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em> or </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – Feature data</p></li>
<li><p><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em> or </em><em>RandomState instance</em><em>, </em><em>default=None</em>) – Controls random numbers used for randomized predictions. Pass an
int for reproducible output across multiple function calls.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The prediction. If <cite>X</cite> represents the data for a single example
the result will be a scalar. Otherwise the result will be a vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Scalar or vector</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.FalsePositiveRateParity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">FalsePositiveRateParity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L393-L441"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.FalsePositiveRateParity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.UtilityParity</span></code></a></p>
<p>Implementation of false positive rate parity as a moment.</p>
<p>Adds conditioning on label <cite>Y=0</cite> compared to demographic parity, i.e.,</p>
<div class="math notranslate nohighlight">
\[P[h(X) = 1 | A = a, Y = 0] = P[h(X) = 1 | Y = 0] \; \forall a\]</div>
<p>This implementation of <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtilityParity</span></code></a> defines the event
corresponding to <cite>Y=0</cite>.</p>
<p>The <cite>prob_event</cite> <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> will record the fraction
of the samples corresponding to <cite>Y = 0</cite> in the <cite>Y</cite> array.</p>
<p>The <cite>index</cite> MultiIndex will have a number of entries equal to the number
of unique values of the sensitive feature, multiplied by the number of
unique non-NaN values of the constructed <cite>event</cite> array, whose entries are
either NaN or <cite>label=0</cite> (so only one unique non-NaN value), multiplied by
two (for the Lagrange multipliers for positive and negative constraints).</p>
<p>With these definitions, the <a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UtilityParity.signed_weights()</span></code></a> method will calculate
the costs for <cite>Y=0</cite> as they are calculated in Example 4 of
Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id5">1</a>,
but will use the weights equal to zero for <cite>Y=1</cite>.</p>
<p>This <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> also supports control features, which can be used to
stratify the data, with the constraint applied within
each stratum, but not between strata.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#false-positive-rate-parity"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.FalsePositiveRateParity.load_data" title="fairlearn.reductions.FalsePositiveRateParity.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.FalsePositiveRateParity.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L428-L441"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.FalsePositiveRateParity.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.FalsePositiveRateParity.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FalsePositiveRateParity'</span></em><a class="headerlink" href="#fairlearn.reductions.FalsePositiveRateParity.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.GridSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">GridSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">estimator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tradeoff_optimization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample_weight'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_grid_search/grid_search.py#L23-L248"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.GridSearch" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.BaseEstimator.html#sklearn.base.BaseEstimator" title="(in scikit-learn v1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.MetaEstimatorMixin</span></code></p>
<p>Estimator to perform a grid search given a blackbox estimator algorithm.</p>
<p>The approach used is taken from section 3.4 of
Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id6">1</a>.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#grid-search"><span class="std std-ref">User Guide</span></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.4.6: </span>Enabled for more than two sensitive feature values</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator</em>) – An estimator implementing methods <code class="code docutils literal notranslate"><span class="pre">fit(X,</span> <span class="pre">y,</span> <span class="pre">sample_weight)</span></code> and
<code class="code docutils literal notranslate"><span class="pre">predict(X)</span></code>, where <cite>X</cite> is the matrix of features, <cite>y</cite> is the
vector of labels (binary classification) or continuous values
(regression), and <cite>sample_weight</cite> is a vector of weights.
In binary classification labels <cite>y</cite> and predictions returned by
<code class="code docutils literal notranslate"><span class="pre">predict(X)</span></code> are either 0 or 1.
In regression values <cite>y</cite> and predictions are continuous.</p></li>
<li><p><strong>constraints</strong> (<a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><em>fairlearn.reductions.Moment</em></a>) – The disparity constraints expressed as moments</p></li>
<li><p><strong>selection_rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – Specifies the procedure for selecting the best model found by the grid
search. At the present time, the only valid value is
“tradeoff_optimization” which minimizes a weighted sum of the error
rate and constraint violation.</p></li>
<li><p><strong>constraint_weight</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – When the <cite>selection_rule</cite> is “tradeoff_optimization” this specifies
the relative weight put on the constraint violation when selecting the
best model. The weight placed on the error rate will be
<code class="code docutils literal notranslate"><span class="pre">1-constraint_weight</span></code></p></li>
<li><p><strong>grid_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of Lagrange multipliers to generate in the grid</p></li>
<li><p><strong>grid_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The largest Lagrange multiplier to generate. The grid will contain
values distributed between <code class="code docutils literal notranslate"><span class="pre">-grid_limit</span></code> and <code class="code docutils literal notranslate"><span class="pre">grid_limit</span></code>
by default</p></li>
<li><p><strong>grid_offset</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Shifts the grid of Lagrangian multiplier by that value.
It is ‘0’ by default</p></li>
<li><p><strong>grid</strong> – Instead of supplying a size and limit for the grid, users may specify
the exact set of Lagrange multipliers they desire using this argument.</p></li>
<li><p><strong>sample_weight_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – <p>Name of the argument to <cite>estimator.fit()</cite> which supplies the sample weights
(defaults to <cite>sample_weight</cite>)</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.GridSearch.fit" title="fairlearn.reductions.GridSearch.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(X, y, **kwargs)</p></td>
<td><p>Run the grid search.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_params</span></code>([deep])</p></td>
<td><p>Get parameters for this estimator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.GridSearch.predict" title="fairlearn.reductions.GridSearch.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict</span></code></a>(X)</p></td>
<td><p>Provide a prediction using the best model found by the grid search.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.GridSearch.predict_proba" title="fairlearn.reductions.GridSearch.predict_proba"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict_proba</span></code></a>(X)</p></td>
<td><p>Return probability estimates from the best model found by the grid search.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_params</span></code>(**params)</p></td>
<td><p>Set the parameters of this estimator.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.GridSearch.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_grid_search/grid_search.py#L111-L224"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.GridSearch.fit" title="Permalink to this definition">#</a></dt>
<dd><p>Run the grid search.</p>
<p>This will result in multiple copies of the
estimator being made, and the <code class="code docutils literal notranslate"><span class="pre">fit(X)</span></code> method
of each one called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em> or </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – The feature matrix</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><em>pandas.Series</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – The label vector</p></li>
<li><p><strong>sensitive_features</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a><em>, </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><em>pandas.Series</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em> (</em><em>for now</em><em>)</em>) – A (currently) required keyword argument listing the
feature used by the constraints object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.GridSearch.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_grid_search/grid_search.py#L226-L236"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.GridSearch.predict" title="Permalink to this definition">#</a></dt>
<dd><p>Provide a prediction using the best model found by the grid search.</p>
<p>This dispatches <cite>X</cite> to the <code class="code docutils literal notranslate"><span class="pre">predict(X)</span></code> method of the
selected estimator, and hence the return type is dependent on that method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em> or </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – Feature data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.GridSearch.predict_proba">
<span class="sig-name descname"><span class="pre">predict_proba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_grid_search/grid_search.py#L238-L248"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.GridSearch.predict_proba" title="Permalink to this definition">#</a></dt>
<dd><p>Return probability estimates from the best model found by the grid search.</p>
<p>The underlying estimator must support <code class="code docutils literal notranslate"><span class="pre">predict_proba(X)</span></code> for this
to work. The return type is determined by this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em> or </em><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – Feature data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.LossMoment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">LossMoment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/__init__.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.LossMoment" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.Moment</span></code></a></p>
<p>Moment that can be expressed as weighted loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return vector of fairness bound constraint the length of gamma.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code>(X, y, *[, sensitive_features])</p></td>
<td><p>Load a set of data for use by this object.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Return the signed weights.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">Moment</span></span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/__init__.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Generic moment.</p>
<p>Our implementations of the reductions approach to fairness
<a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id7">1</a> make use
of <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> objects to describe both the optimization objective
and the fairness constraints
imposed on the solution. This is an abstract class for all such objects.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#reductions"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#fairlearn.reductions.Moment.total_samples" title="fairlearn.reductions.Moment.total_samples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></a></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.Moment.bound" title="fairlearn.reductions.Moment.bound"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code></a>()</p></td>
<td><p>Return vector of fairness bound constraint the length of gamma.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.Moment.gamma" title="fairlearn.reductions.Moment.gamma"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code></a>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.Moment.load_data" title="fairlearn.reductions.Moment.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *[, sensitive_features])</p></td>
<td><p>Load a set of data for use by this object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.Moment.project_lambda" title="fairlearn.reductions.Moment.project_lambda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code></a>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.Moment.signed_weights" title="fairlearn.reductions.Moment.signed_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code></a>(lambda_vec)</p></td>
<td><p>Return the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.bound">
<span class="sig-name descname"><span class="pre">bound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/moment.py#L67-L69"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment.bound" title="Permalink to this definition">#</a></dt>
<dd><p>Return vector of fairness bound constraint the length of gamma.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/moment.py#L63-L65"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment.gamma" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the degree to which constraints are currently violated by the predictor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/moment.py#L30-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load a set of data for use by this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array</em>) – The feature array</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The label vector</p></li>
<li><p><strong>sensitive_features</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The sensitive feature vector (default None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.project_lambda">
<span class="sig-name descname"><span class="pre">project_lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/moment.py#L71-L73"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment.project_lambda" title="Permalink to this definition">#</a></dt>
<dd><p>Return the projected lambda values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.signed_weights">
<span class="sig-name descname"><span class="pre">signed_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/moment.py#L75-L77"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.Moment.signed_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Return the signed weights.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fairlearn.reductions.Moment.total_samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_samples</span></span><a class="headerlink" href="#fairlearn.reductions.Moment.total_samples" title="Permalink to this definition">#</a></dt>
<dd><p>Return the number of samples in the data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.SquareLoss">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">SquareLoss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_val</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/bounded_group_loss.py#L128-L145"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.SquareLoss" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to evaluate the square loss.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#constraints-regression"><span class="std std-ref">User Guide</span></a>.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.SquareLoss.eval" title="fairlearn.reductions.SquareLoss.eval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval</span></code></a>(y_true, y_pred)</p></td>
<td><p>Evaluate the square loss for the given set of true and predicted values.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.SquareLoss.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/bounded_group_loss.py#L140-L145"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.SquareLoss.eval" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluate the square loss for the given set of true and predicted values.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.TruePositiveRateParity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">TruePositiveRateParity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L336-L390"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.TruePositiveRateParity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.UtilityParity</span></code></a></p>
<p>Implementation of true positive rate parity as a moment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The true positive rate parity fairness criterion is also known
as “equal opportunity”.</p>
</div>
<p>Adds conditioning on label <cite>Y=1</cite> compared to demographic parity, i.e.,</p>
<div class="math notranslate nohighlight">
\[P[h(X) = 1 | A = a, Y = 1] = P[h(X) = 1 | Y = 1] \; \forall a\]</div>
<p>This implementation of <a class="reference internal" href="#fairlearn.reductions.UtilityParity" title="fairlearn.reductions.UtilityParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtilityParity</span></code></a> defines the event
corresponding to <cite>Y=1</cite>.</p>
<p>The <cite>prob_event</cite> <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> will record the fraction
of the samples corresponding to <cite>Y = 1</cite> in the <cite>Y</cite> array.</p>
<p>The <cite>index</cite> MultiIndex will have a number of entries equal to the number
of unique values of the sensitive feature, multiplied by the number of
unique non-NaN values of the constructed <cite>event</cite> array, whose entries
are either NaN or <cite>label=1</cite> (so only one unique non-NaN value), multiplied
by two (for the Lagrange multipliers for positive and negative
constraints).</p>
<p>With these definitions, the <a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UtilityParity.signed_weights()</span></code></a> method
will calculate the costs for <cite>Y=1</cite> as they are calculated in Example 4 of
Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id8">1</a>, but will use
the weights equal to zero for <cite>Y=0</cite>.</p>
<p>This <a class="reference internal" href="#fairlearn.reductions.Moment" title="fairlearn.reductions.Moment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Moment</span></code></a> also supports control features, which can be used to
stratify the data, with the constraint applied within
each stratum, but not between strata.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#true-positive-rate-parity"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.TruePositiveRateParity.load_data" title="fairlearn.reductions.TruePositiveRateParity.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.TruePositiveRateParity.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L377-L390"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.TruePositiveRateParity.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fairlearn.reductions.TruePositiveRateParity.short_name">
<span class="sig-name descname"><span class="pre">short_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TruePositiveRateParity'</span></em><a class="headerlink" href="#fairlearn.reductions.TruePositiveRateParity.short_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">UtilityParity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">difference_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_bound_slack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/__init__.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.ClassificationMoment" title="fairlearn.reductions.ClassificationMoment"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.ClassificationMoment</span></code></a></p>
<p>A generic moment for parity in utilities (or costs) under classification.</p>
<p>This serves as the base class for <a class="reference internal" href="#fairlearn.reductions.DemographicParity" title="fairlearn.reductions.DemographicParity"><code class="xref py py-class docutils literal notranslate"><span class="pre">DemographicParity</span></code></a>,
<a class="reference internal" href="#fairlearn.reductions.EqualizedOdds" title="fairlearn.reductions.EqualizedOdds"><code class="xref py py-class docutils literal notranslate"><span class="pre">EqualizedOdds</span></code></a>, and others. All subclasses can be used as
difference-based constraints or ratio-based constraints.
Refer to the <a class="reference internal" href="../user_guide/mitigation.html#constraints-binary-classification"><span class="std std-ref">user guide</span></a> for
more information and example usage.</p>
<p>Constraints compare the group-level mean utility for each group with the
overall mean utility (unless further events are specified, e.g., in
equalized odds).
Constraint violation for difference-based constraints starts if the
difference between a group and the overall population with regard to a
utility exceeds <cite>difference_bound</cite>. For ratio-based constraints, the ratio
between the group-level and overall mean utility needs to be bounded
between <cite>ratio_bound</cite> and its inverse (plus an additional additive
<cite>ratio_bound_slack</cite>).</p>
<p>The <cite>index</cite> field is a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code></a> corresponding to
the constraint IDs.
It is an index of various DataFrame and Series objects that are either
required as arguments or returned by several of the methods of the
<cite>UtilityParity</cite> class. It is the Cartesian product of:</p>
<ul class="simple">
<li><p>The unique events defining the particular moment object</p></li>
<li><p>The unique values of the sensitive feature</p></li>
<li><p>The characters <cite>+</cite> and <cite>-</cite>, corresponding to the Lagrange multipliers
for positive and negative violations of the constraint</p></li>
</ul>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#constraints-binary-classification"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>difference_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The constraints’ difference bound for constraints that are expressed
as differences, also referred to as <span class="math notranslate nohighlight">\(\\epsilon\)</span> in documentation.
If <cite>ratio_bound</cite> is used then <cite>difference_bound</cite> needs to be None.
If neither <cite>ratio_bound</cite> nor <cite>difference_bound</cite> are set then a default
difference bound of 0.01 is used for backwards compatibility.
Default None.</p></li>
<li><p><strong>ratio_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The constraints’ ratio bound for constraints that are expressed as
ratios. The specified value needs to be in (0,1].
If <cite>difference_bound</cite> is used then <cite>ratio_bound</cite> needs to be None.
Default None.</p></li>
<li><p><strong>ratio_bound_slack</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The constraints’ ratio bound slack for constraints that are
expressed as ratios, also referred to as <span class="math notranslate nohighlight">\(\\epsilon\)</span> in
documentation.
<cite>ratio_bound_slack</cite> is ignored if <cite>ratio_bound</cite> is not specified.
Default 0.0</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_samples</span></code></dt><dd><p>Return the number of samples in the data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.bound" title="fairlearn.reductions.UtilityParity.bound"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bound</span></code></a>()</p></td>
<td><p>Return bound vector.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.default_objective" title="fairlearn.reductions.UtilityParity.default_objective"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_objective</span></code></a>()</p></td>
<td><p>Return the default objective for moments of this kind.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.gamma" title="fairlearn.reductions.UtilityParity.gamma"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gamma</span></code></a>(predictor)</p></td>
<td><p>Calculate the degree to which constraints are currently violated by the predictor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.load_data" title="fairlearn.reductions.UtilityParity.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(X, y, *, sensitive_features[, ...])</p></td>
<td><p>Load the specified data into this object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.project_lambda" title="fairlearn.reductions.UtilityParity.project_lambda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_lambda</span></code></a>(lambda_vec)</p></td>
<td><p>Return the projected lambda values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#fairlearn.reductions.UtilityParity.signed_weights" title="fairlearn.reductions.UtilityParity.signed_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">signed_weights</span></code></a>(lambda_vec)</p></td>
<td><p>Compute the signed weights.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.bound">
<span class="sig-name descname"><span class="pre">bound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L220-L229"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.bound" title="Permalink to this definition">#</a></dt>
<dd><p>Return bound vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a vector of bound values corresponding to all constraints</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)">pandas.Series</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.default_objective">
<span class="sig-name descname"><span class="pre">default_objective</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L119-L121"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.default_objective" title="Permalink to this definition">#</a></dt>
<dd><p>Return the default objective for moments of this kind.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L190-L218"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.gamma" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the degree to which constraints are currently violated by the predictor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utilities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L123-L188"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.load_data" title="Permalink to this definition">#</a></dt>
<dd><p>Load the specified data into this object.</p>
<p>This adds a column <cite>event</cite> to the <cite>tags</cite> field.</p>
<p>The <cite>utilities</cite> is a 2-d array which corresponds to g(X,A,Y,h(X))
from Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id9">1</a>.
The <cite>utilities</cite> defaults to h(X), i.e. [0, 1] for each X_i.
The first column is G^0 and the second is G^1.
Assumes binary classification with labels 0/1.</p>
<div class="math notranslate nohighlight">
\[utilities = [g(X,A,Y,h(X)=0), g(X,A,Y,h(X)=1)]\]</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.project_lambda">
<span class="sig-name descname"><span class="pre">project_lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L232-L249"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.project_lambda" title="Permalink to this definition">#</a></dt>
<dd><p>Return the projected lambda values.</p>
<p>i.e., returns lambda which is guaranteed to lead to the same or higher value of the
Lagrangian compared with lambda_vec for all possible choices of the classifier, h.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fairlearn.reductions.UtilityParity.signed_weights">
<span class="sig-name descname"><span class="pre">signed_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_vec</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/utility_parity.py#L251-L281"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.UtilityParity.signed_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the signed weights.</p>
<p>Uses the equations for <span class="math notranslate nohighlight">\(C_i^0\)</span> and <span class="math notranslate nohighlight">\(C_i^1\)</span> as defined
in Section 3.2 of Agarwal <em>et al.</em><a class="footnote-reference brackets" href="#footcite-agarwal2018reductions" id="id10">1</a>
in the ‘best response of the Q-player’ subsection to compute the
signed weights to be applied to the data by the next call to the underlying
estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lambda_vec</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.1)"><code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The vector of Lagrange multipliers indexed by <cite>index</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fairlearn.reductions.ZeroOneLoss">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fairlearn.reductions.</span></span><span class="sig-name descname"><span class="pre">ZeroOneLoss</span></span><a class="reference external" href="http://github.com/fairlearn/fairlearn/blob/v0.8.0/fairlearn/reductions/_moments/bounded_group_loss.py#L173-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fairlearn.reductions.ZeroOneLoss" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fairlearn.reductions.AbsoluteLoss" title="fairlearn.reductions.AbsoluteLoss"><code class="xref py py-class docutils literal notranslate"><span class="pre">fairlearn.reductions.AbsoluteLoss</span></code></a></p>
<p>Class to evaluate a zero-one loss.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mitigation.html#constraints-regression"><span class="std std-ref">User Guide</span></a>.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval</span></code>(y_true, y_pred)</p></td>
<td><p>Evaluate the absolute loss for the given set of true and predicted values.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="topic">
<p class="topic-title">References:</p>
<div class="docutils container" id="id11">
<dl class="footnote brackets">
<dt class="label" id="footcite-agarwal2018reductions"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>,<a href="#id3">3</a>,<a href="#id4">4</a>,<a href="#id5">5</a>,<a href="#id6">6</a>,<a href="#id7">7</a>,<a href="#id8">8</a>,<a href="#id9">9</a>,<a href="#id10">10</a>)</span></dt>
<dd><p>Alekh Agarwal, Alina Beygelzimer, Miroslav Dudík, John Langford, and Hanna M. Wallach. A reductions approach to fair classification. In <em>ICML</em>, volume 80 of Proceedings of Machine Learning Research, 60–69. PMLR, 2018. URL: <a class="reference external" href="http://proceedings.mlr.press/v80/agarwal18a.html">http://proceedings.mlr.press/v80/agarwal18a.html</a>.</p>
</dd>
</dl>
</div>
</div>
</section>


              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2018 - 2022, Fairlearn contributors.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>